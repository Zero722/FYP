{% extends 'store/header.html' %}
{% load static %}
{% block content %}

	{% if request.user.is_authenticated %}
		{% include "store/recommend.html" %}	
	{% endif %}
	<section class="product-list">		
		<div class="container">
			{% if request.user.is_authenticated %}
				<h2 class="text-center mb-5">More Products<hr></h2>
			{% endif %}
			<div class="row">
				{% for product in all_products %}
				<div class="col-md-6 col-lg-4 col-xl-3 product-block">
					<div class="product-wrap">
						<img class="thumbnail" src="{{product.imageURL}}">
						<div class="box-element">
							<h6><strong>{{product.name}}</strong></h6>
							<hr>
							<h4 class="mb-3"><strong>${{product.price|floatformat:2}}</strong></h4>
							<a href= "{% url 'add_to_cart' product.id %}" class="btn btn-primary add-btn">Add to Cart</a>
							<a class="btn btn-outline-primary" href = "{% url 'details' product.id %}">View</a>					
						</div>
					</div>				
				</div>
				{% endfor %}
			</div>	
		</div>
	</section>


	<div class="pagination">
		<span class="step-links">
			{% if all_products.has_previous %}
				<a href="?page=1">&laquo; first</a>
				<a href="?page={{ all_products.previous_page_number }}">previous</a>
			{% endif %}
	
			<span class="current">
				Page {{ all_products.number }} of {{ all_products.paginator.num_pages }}.
			</span>
	
			{% if all_products.has_next %}
				<a href="?page={{ all_products.next_page_number }}">next</a>
				<a href="?page={{ all_products.paginator.num_pages }}">last &raquo;</a>
			{% endif %}
		</span>
	</div>


{% endblock content %}